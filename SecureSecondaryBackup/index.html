<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="description" content="A presentation for my blogpost at rutkai.hu."/>
    <meta name="author" content="András Rutkai"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>Building a highly secure, cheap secondary backup from scratch</title>
    <link rel="stylesheet" href="../reveal.js/css/reveal.min.css"/>
    <link rel="stylesheet" href="../reveal.js/css/theme/night.css" id="theme"/>
    <link rel="stylesheet" href="../reveal.js/lib/css/zenburn.css"/>
    <script type="text/javascript">
        if (window.location.search.match(/print-pdf/gi)) {
            var link = document.createElement('link');
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = 'css/print/pdf.css';
            document.getElementsByTagName('head')[0].appendChild(link);
        }
    </script>
    <!--[if lt IE 9]>
    <script src="../reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>
<body>
<div class="reveal">
<!-- Any section element inside of this container is displayed as a slide -->
<div class="slides">
<!-- About -->
<section>
    <h1>Building a highly secure, cheap secondary backup from scratch</h1>

    <h2>Using Banana PI</h2>

    <h3>András Rutkai</h3>
</section>

<!-- Content -->
<section>
    <h2>Motivation</h2>

    <p class="fragment">I needed a place where I can store my backups</p>

    <p class="fragment">Geographically somewhere else than my main server</p>

    <p class="fragment">As cheap as possible</p>

    <p class="fragment">Highly secure</p>

    <p class="fragment">At least 3-4 M/s throughput</p>

    <p class="fragment">Low power consumption</p>
</section>
<section>
    <h2>Alternatives</h2>

    <p class="fragment">USB HDD + manual backup</p>

    <p class="fragment">NAS</p>

    <p class="fragment">Cloud</p>

    <p class="fragment"><strong>Raspberry PI</strong></p>
</section>
<section>
    <h2>The hardware</h2>

    <img src="hardware.png" alt="Hardware"/>
</section>
<section>
    <section>
        <h2>Why Banana PI?</h2>

        <p class="fragment">1 GHZ CPU (2 cores)</p>

        <p class="fragment">1 GB memory</p>

        <p class="fragment">Gigabit ethernet</p>

        <p class="fragment">SATA port</p>

        <p class="fragment">Separate buses</p>
    </section>
    <section>
        <h2>Acquiring the parts</h2>

        <p class="fragment">E-bay + DealExtreme</p>

        <table cellspacing="1" cellpadding="1" border="1" class="fragment">
            <thead>
            <tr>
                <th scope="row">Part</th>
                <th scope="col">Specs</th>
                <th scope="col">Price</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th scope="row">Banana PI</th>
                <td>&nbsp;</td>
                <td>$45</td>
            </tr>
            <tr>
                <th scope="row">Power supply</th>
                <td>5V, 3000 mAh</td>
                <td>$5.5</td>
            </tr>
            <tr>
                <th scope="row">SATA cable</th>
                <td>&nbsp;</td>
                <td>$4</td>
            </tr>
            <tr>
                <th scope="row">Case</th>
                <td>Transparent</td>
                <td>$8</td>
            </tr>
            <tr>
                <th scope="row">Heatsinks</th>
                <td>4 pieces set</td>
                <td>$5</td>
            </tr>
            <tr>
                <th scope="row">SD card</th>
                <td>Kingston 16GB Class 10</td>
                <td>$11.5</td>
            </tr>
            <tr>
                <th scope="row">HDD</th>
                <td>WD Green 2 TB SATA-3 Laptop</td>
                <td>35000 HUF</td>
            </tr>
            </tbody>
        </table>
    </section>
    <section>
        <h2>Assembling: parts</h2>

        <img src="http://i.imgur.com/X7CaGMBl.jpg" alt="The parts">
    </section>
    <section>
        <h2>Assembling: cooling</h2>

        <img src="http://i.imgur.com/sBnnRPYl.jpg" alt="The cooling">
    </section>
    <section>
        <h2>Assembling: cooling solution</h2>

        <img src="http://i.imgur.com/Bp2L3idl.jpg" alt="Solution">
    </section>
    <section>
        <h2>Assembling: cooling in place</h2>

        <img src="http://i.imgur.com/AawDRZVl.jpg" alt="The cooling 2">
    </section>
    <section>
        <h2>Assembling: in progess</h2>

        <img src="http://i.imgur.com/3X947tRl.jpg" alt="In progress">
    </section>
    <section>
        <h2>Assembling: without HDD</h2>

        <img src="http://i.imgur.com/iBYpJ7Ul.jpg" alt="Assembled">
    </section>
    <section>
        <h2>Assembling: fine distance</h2>

        <img src="http://i.imgur.com/hoiKyNul.jpg" alt="The gap">
    </section>
    <section>
        <h2>Assembling: done</h2>

        <img src="http://i.imgur.com/7l4w32Fl.jpg" alt="Done">
    </section>
    <section>
        <h2>Assembling: done cooling</h2>

        <img src="http://i.imgur.com/SlavL9ul.jpg" alt="Done (cooling)">
    </section>
</section>
<section>
    <h2>The OS</h2>

    <img src="Raspi-PGB001.png" alt="Raspbian"/>
</section>
<section>
    <section>
        <h2>No BIOS?</h2>

        <p class="fragment">Custom bootloader</p>

        <p class="fragment">No error messages</p>

        <p class="fragment">LEDs</p>
    </section>
    <section>
        <h2>OS</h2>

        <p class="fragment">Raspbian</p>

        <p class="fragment">Bananian</p>

        <p class="fragment">Arch</p>

        <p class="fragment">Berryboot</p>

        <p class="fragment">Raspbian for Banana PI</p>
    </section>
    <section>
        <h2>Installation</h2>

        <p class="fragment">Simple dd</p>

        <p class="fragment">Interactive menu after installation</p>

        <p class="fragment">Further configurations over SSH</p>
    </section>
</section>
<section>
    <h2>sudo apt-get</h2>

    <img src="apt.jpg" alt="Apt"/>
</section>
<section>
    <section>
        <h2>Wifi</h2>

        <p class="fragment">WPA supplicant</p>
    </section>
    <section>
        <h2>Cleanup && update</h2>

        <p class="fragment">Raspbian contains some junk</p>

        <ul>
            <li class="fragment">Wolfram engine</li>
            <li class="fragment">CUPS</li>
            <li class="fragment">Samba client</li>
            <li class="fragment">GUI (X)</li>
        </ul>

        <p class="fragment">Update</p>
    </section>
    <section>
        <h2>HDD</h2>

        <p class="fragment">Not enough power?</p>

        <p class="fragment">Partitioning, formatting to ext4</p>

        <p class="fragment">HDParm</p>
    </section>
    <section>
        <h2>Securing the system</h2>

        <p class="fragment">UFW</p>

        <p class="fragment">Fail2ban</p>

        <p class="fragment">Backup user and sudoer user</p>

        <p class="fragment">Restricting SSH to backup user</p>

        <p class="fragment">Encrypting /home</p>
    </section>
</section>
<section>
    <h2>Conclusion?</h2>

    <img src="Question.png" alt="?"/>
</section>
<section>
    <section>
        <h2>Cheap?</h2>

        <p class="fragment">~20k HUF + HDD</p>
    </section>
    <section>
        <h2>Secure?</h2>

        <p class="fragment">Secure connection</p>

        <p class="fragment">Secure storage</p>

        <p class="fragment">User for administration</p>
    </section>
    <section>
        <h2>Fast?</h2>

        <p class="fragment">~4+M/s over Wifi (150M)</p>
    </section>
    <section>
        <h2>Cheap to use?</h2>

        <p class="fragment">8-9W on load</p>

        <p class="fragment">4W on idle</p>

        <p class="fragment">2W on sleep</p>
    </section>
</section>

<!-- Ending -->
<section>
    <h1>Thank you!</h1>

    <a href="http://rutkai.hu/blog/2014/11/30/building-a-highly-secure-cheap-secondary-backup-from-scratch">
        http://rutkai.hu/blog/2014/11/30/building-a-highly-secure-cheap-secondary-backup-from-scratch
    </a>
</section>
</div>
</div>
<script src="../reveal.js/lib/js/head.min.js" type="text/javascript"></script>
<script src="../reveal.js/js/reveal.min.js" type="text/javascript"></script>
<script>
    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none
// Parallax scrolling
// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
// parallaxBackgroundSize: '2100px 900px',
// Optional libraries used to extend on reveal.js
        dependencies: [
            {
                src: '../reveal.js/lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: '../reveal.js/plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: '../reveal.js/plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: '../reveal.js/plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {
                src: '../reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function () {
                return !!document.body.classList;
            }
            },
            {
                src: '../reveal.js/plugin/notes/notes.js', async: true, condition: function () {
                return !!document.body.classList;
            }
            }
        ]
    });
</script>
</body>
</html>